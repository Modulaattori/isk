<h1>Listing slides</h1>
<p>Current event: <%=Event.current.name%></p>
<div class='slidefilter'>
  <%=filter_links @filter%>
</div>

<div class="slidelist">

<%if @filter%>

<div class='slidegroups'>
  <table class="compact_slidelist">
    <tr>
      <th>
        Slides I can <%=@filter == :edit ? 'edit' : 'hide'%>
      </th>
    </tr>
    <tr>
      <td>
          <%=render :partial => 'slide', :locals => {:slides => @slides }%>
      </td>
    </tr>
  </table>  
</div>


<%else%>

<%cache('group_links') do%>
<div class="grouplinks" id="scrollingDiv">
  <p>Goto group:</p>
  <ul>
   <%@groups.each do |group|%>
	  <%unless group.slides.count == 0%>
	    <li>
        <a href="#<%=group.name%>" class="grouplink"><%=group.name%></a>
      </li>
    <%end%>
  <%end%>
  </ul>
</div>
<%end%>

<%=render :partial => 'slidegroups'%>

<%end%>
</div>